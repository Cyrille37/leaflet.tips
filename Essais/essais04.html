<!DOCTYPE html>
<html>
    <head>
        <title>Leaflet - Essais04</title>
        <meta charset="utf-8" />

        <!-- Leaflet CSS --> 
        <link rel="stylesheet" href="Leaflet-0.2.1/leaflet.css" />
        <!--[if lte IE 8]><link rel="stylesheet" href="Leaflet-0.2.1/leaflet.ie.css" /><![endif]-->
        <!-- Leaflet JavaScript -->
        <script src="Leaflet-0.2.1/leaflet.js"></script>

    </head>
    <body>
        <h1>Leaflet - Essais04</h1>

        <!-- width equals available horizontal space by default -->
        <div id="map" style="height: 400px"></div>

        <script type="text/javascript">

            var map = new L.Map('map');

            var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
            var osmAttrib='Map data Â© openstreetmap contributors';
            var osm = new L.TileLayer(osmUrl,{minZoom: 8, maxZoom:18, attribution: osmAttrib});

            var viewPoint = new L.LatLng( 47.33, 0.58 );
            map.setView(viewPoint,11);

            map.addLayer(osm);

            map.on('moveend', onMapMoveend );
            
            function onMapMoveend()
            {
                var bounds = map.getBounds();
                dbg( "onMapMoveend() : SW="+bounds.getSouthWest() + ", NE=" + bounds.getNorthEast() );
            }
            
            function dbg( msg )
            {
                var o=document.getElementById('dbg');
                if( o!=null )
                    o.innerHTML += "<br/>" + msg ;
            }
        </script>

        <a href="file:///home/cyrille/Code/dev.www/Cartographie/Leaflet/essais04.html">local</a>
        <a href="http://cyrille.giquello.fr/labs/carto/Leaflet/essais04.html">remote</a>

        <div id="dbg">debug</div>

    </body>
</html>
